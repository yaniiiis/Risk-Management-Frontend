<div class="h-full bg-[#fefefe]">
  <div class="h-full w-full flex flex-col justify-center items-center">
    <app-navbar></app-navbar>

    <form
      class="flex py-6 px-16 space-y-3 flex-col bg-white rounded-lg shadow"
      [formGroup]="registerForm"
      (ngSubmit)="onSubmit()"
    >
      <div class="w-full flex items-center pb-3 flex-col space-y-1">
        <div class="text-xl font-semibold text-[#0d0c22]">
          Ajout Utilisateur
        </div>
        <div class="font-semibold text-[#979797]">
          Ajouter un utilisateur avec ses roles
        </div>
      </div>

      <div class="w-full flex flex-col space-y-7">
        <div class="flex justify-between space-x-10">
          <app-input
            [label]="nameString"
            [form]="registerForm"
            [specificFormControl]="registerForm.controls['lastName']"
            [submitted]="submitted"
            [minLength]="4"
            [maxLength]="40"
          ></app-input>

          <app-input
            [label]="functionString"
            [form]="registerForm"
            [specificFormControl]="registerForm.controls['function']"
            [submitted]="submitted"
            [minLength]="4"
            [maxLength]="40"
          ></app-input>
        </div>

        <div class="flex justify-between space-x-10">
          <app-input
            [label]="firstNameString"
            [form]="registerForm"
            [specificFormControl]="registerForm.controls['firstName']"
            [submitted]="submitted"
            [minLength]="4"
            [maxLength]="40"
          ></app-input>

          <app-input
            [label]="structureString"
            [form]="registerForm"
            [specificFormControl]="registerForm.controls['structure']"
            [submitted]="submitted"
            [minLength]="4"
            [maxLength]="40"
          ></app-input>
        </div>

        <div class="flex justify-between space-x-16">
          <app-input
            [label]="identifiantString"
            [form]="registerForm"
            [specificFormControl]="registerForm.controls['identifiant']"
            [submitted]="submitted"
            [minLength]="4"
            [maxLength]="40"
          ></app-input>

          <app-auto-complet-input
            [submitted]="submitted"
            [role]="registerForm.controls['role']"
          ></app-auto-complet-input>
        </div>

        <div class="flex justify-between space-x-16">
          <app-password-input
            [label]="passwordString"
            [form]="registerForm"
            [specificFormControl]="registerForm.controls['password']"
            [submitted]="submitted"
            [minLength]="8"
            [maxLength]="40"
          ></app-password-input>

          <div class="flex flex-col space-y-1.5">
            <label
              for="password"
              class="font-semibold text-[#0d0c22] text-[15px]"
              >Niveau du role
            </label>
            <div
              (clickOutside)="closeLevelsList()"
              class="{{
                !enableLevels
                  ? 'bg-[#c6c6c6] cursor-default text-gray-400'
                  : 'bg-transparent cursor-pointer'
              }}
            'px-4 py-2.5 w-[400px]  shadow border border-[#c6c6c6] rounded flex justify-between relative cursor-pointer'
          "
              (click)="toggleLevelList()"
            >
              <p class="px-4">{{ levelText }}</p>
              <mat-icon
                aria-hidden="false"
                aria-label="Example home icon"
                fontIcon="keyboard_arrow_down"
              ></mat-icon>

              <div
                class="absolute z-10 top-12 w-full left-0 flex flex-col space-y-2 p-2 bg-white shadow-lg"
                *ngIf="displayLevelsList"
              >
                <div
                  class="px-2 py-1 hover:bg-[#ff3333] hover:text-white rounded cursor-pointer w-full text-[#0d0c22]"
                  *ngFor="let level of filtredLevelsList"
                  (click)="setSelectedLevel(level)"
                >
                  {{ level.name }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="flex justify-between space-x-16">
          <app-password-input
            [label]="confirmPasswordString"
            [form]="registerForm"
            [specificFormControl]="registerForm.controls['confirmPassword']"
            [submitted]="submitted"
          ></app-password-input>
        </div>

        <div class="space-y-5">
          <div class="flex w-full justify-center pt-[26px]">
            <button
              type="submit"
              class="font-bold text-lg rounded w-[400px] py-2.5 border border-[#c6c6c6] bg-[#ff3333] flex justify-center items-center text-white"
            >
              Register
            </button>
          </div>
        </div>
      </div>
    </form>
    <app-footer></app-footer>
  </div>
</div>
